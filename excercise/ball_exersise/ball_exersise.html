<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <style>
      #field {
      width: 300px;
      height: 250px;
      position: relative;
      border: 10px solid black;
      background-color: #00FF00;
      overflow: hidden;
    }
    
    #ball {
      position: absolute;
      left: 0;
      /* relative to the closest positioned ancestor (field) */
      top: 0;
      transition: 1s all;
      /* CSS animation for left/top makes the ball fly 
    }
  </style>
</head>

<body style="height:2000px">

  Click on a field to move the ball there.
  <br> The ball should never leave the field.
  <br>


  <div id="field">
    <img src="https://en.js.cx/clipart/ball.svg" id="ball"> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  </div>

  <script>
    field.onclick = function(event) {

      let fieldCoords = this.getBoundingClientRect();

      // alert(field.clientWidth);
      // alert(fieldCoords.left);
      // alert(field.clientLeft);
      // alert(ball.offsetWidth);
      let fixLeft = ball.width / 2 + fieldCoords.left + field.clientLeft;
      let fixTop = ball.height / 2 + fieldCoords.top + field.clientTop;
      let ballCoords = {
        left: event.clientX - fixLeft,
        top: event.clientY - fixTop,
      };
      if( event.clientX < fixLeft )
      {
        ballCoords.left = 0;
      }
      if( event.clientY < fixTop )
      {
        ballCoords.top = 0;
      }
      if( event.clientX > (fieldCoords.right - field.clientLeft - ball.width/2)  )
      {
        ballCoords.left = field.clientWidth - ball.width;
      }
      if( event.clientY > fieldCoords.bottom - field.clientTop - ball.height/2 )
      {
        ballCoords.top = field.clientHeight - ball.height;
      }
      
      ball.style.left = ballCoords.left + "px";
      ball.style.top = ballCoords.top + "px";
    }
  </script>

</body>

</html>